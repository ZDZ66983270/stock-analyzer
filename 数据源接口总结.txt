数据源接口总结

1. A股市场
   - 主要数据源：东方财富接口（ak.stock_zh_a_hist_min_em）
   - 支持的时间周期：
     * 日线数据（90天）
     * 1小时数据（15天）
     * 30分钟数据（15天）
     * 15分钟数据（15天）
     * 5分钟数据（15天）
   - 数据字段完整度：高
     * 包含：时间、开盘价、收盘价、最高价、最低价、成交量、成交额
   - 测试验证：
     * 万华化学(600309)：成功获取90天日线数据和15天分钟数据
     * 平安银行(000001)：成功获取90天日线数据和15天分钟数据
     * 宁德时代(300750)：成功获取90天日线数据和15天分钟数据
   - 资金流向数据：
     * 数据源：东方财富接口
     * 支持数据：
       - 主力资金流向（净额、净占比）
       - 超大单资金流向（净额、净占比）
       - 大单资金流向（净额、净占比）
       - 中单资金流向（净额、净占比）
       - 小单资金流向（净额、净占比）
     * 数据量：120条历史数据
     * 测试验证：
       - 万华化学(600309)：成功获取
       - 平安银行(000001)：成功获取
       - 宁德时代(300750)：成功获取
     * 成功率：100%（3/3）
   - 适用场景：A股市场的技术分析、量化交易

2. 美股市场
   - 数据源一：东方财富美股接口（ak.stock_us_hist_min_em）
     * 适用股票：主流美股（如台积电TSM）
     * 支持的时间周期：
       - 日线数据（90天）
       - 1小时数据（15天）
       - 30分钟数据（15天）
       - 15分钟数据（15天）
       - 5分钟数据（15天）
     * 数据字段完整度：高
     * 测试验证：成功获取台积电数据
   
   - 数据源二：新浪财经接口（ak.stock_us_daily）
     * 适用股票：其他美股（如小米XIACY）
     * 支持的时间周期：
       - 日线数据（从上市至今）
     * 数据字段完整度：中
     * 测试验证：成功获取小米日线数据

   - 数据源三：实时行情接口（ak.stock_us_spot）
     * 适用场景：实时行情监控
     * 数据字段：股票代码、名称、当前价格、涨跌幅、成交量、市值等
     * 测试验证：目前不稳定

3. 港股市场
   - 数据源一：东方财富港股接口
     * 分时数据接口（ak.stock_hk_hist_min_em）
       - 支持的时间周期：
         - 1分钟数据（15天，约1393条数据）
         - 5分钟数据（15天，约594条数据）
         - 15分钟数据（15天，约198条数据）
         - 30分钟数据（15天，约99条数据）
         - 60分钟数据（15天，约54条数据）
       - 数据字段：时间、开盘价、收盘价、最高价、最低价、成交量、成交额、最新价等
       - 测试验证：成功获取阿里巴巴（09988）、中信银行（00998）、小米集团（01810）数据
     
     * 历史行情接口（ak.stock_hk_hist）
       - 支持的时间周期：日线（90天，约60个交易日）
       - 支持复权方式：不复权、前复权、后复权
       - 数据字段：日期、开盘价、收盘价、最高价、最低价、成交量、成交额、振幅、涨跌幅、涨跌额、换手率
       - 测试验证：成功获取阿里巴巴（09988）、中信银行（00998）、小米集团（01810）数据

   - 数据源二：新浪财经接口
     * 历史行情接口（ak.stock_hk_daily）
       - 支持：历史行情数据（90天，约59个交易日）
       - 支持复权方式：不复权、前复权、后复权
       - 数据字段：日期、开盘价、最高价、最低价、收盘价、成交量
       - 测试验证：成功获取阿里巴巴（09988）、中信银行（00998）、小米集团（01810）数据

   - 数据源三：雪球接口
     * 个股信息接口（ak.stock_individual_basic_info_hk_xq）
       - 支持：个股基本信息查询
       - 数据字段：公司代码、中文名称、英文名称、上市日期、注册地址、办公地址、董事长、主营业务、公司简介等
       - 测试验证：成功获取阿里巴巴（09988）、中信银行（00998）、小米集团（01810）数据

4. 数据源选择建议：
   - A股市场：直接使用东方财富接口
   - 美股市场：
     * 主流股票（如台积电）：优先使用东方财富美股接口
     * 其他股票：使用新浪财经接口获取日线数据
     * 实时监控：可尝试实时行情接口，但需要做好容错处理
   - 港股市场：
     * 分时数据：使用东方财富分时接口（ak.stock_hk_hist_min_em）
     * 历史数据：优先使用东方财富历史接口（ak.stock_hk_hist），备用新浪财经接口（ak.stock_hk_daily）
     * 个股信息：使用雪球接口（ak.stock_individual_basic_info_hk_xq）

5. 注意事项：
   - 所有接口的可用性可能会随时间变化
   - 建议在使用前进行测试验证
   - 对于重要数据，可以考虑多个数据源交叉验证
   - 需要做好异常处理和容错机制
   - 港股数据获取时可能出现SSL连接错误，已实现自动重试机制

6. 数据获取策略建议：
   - 建立数据源优先级机制
     * 第一优先级：东方财富接口（A股、主流美股、港股）
     * 第二优先级：新浪财经接口（其他美股、港股备用）
   
   - 数据获取流程优化
     * 先尝试主要数据源
     * 如果失败，自动切换到备用数据源
     * 记录数据获取日志，便于问题追踪
   
   - 数据质量控制
     * 定期验证数据源的可用性
     * 对比不同数据源的数据一致性
     * 建立数据质量监控机制

7. 未来优化方向：
   - 扩展数据源覆盖范围
   - 提高数据获取的稳定性
   - 优化数据存储和处理效率
   - 建立更完善的数据备份机制
   - 增加数据源的自动切换机制
   - 完善数据质量监控体系 